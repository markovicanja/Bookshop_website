<div class="container-fluid mt-5">
    <div class="row">
        <div class="offset-sm-2 col-sm-2 text-center">
            <img class="image-container-center img-responsive" src="../../assets/{{ book.image }}">
            <br/>
            <button class="btn btn-promotion mt-2" *ngIf="book.promotion">N A  &nbsp;&nbsp; P R O M O C I J I</button>
            <input type="submit" class="btn btn-primary px-5 mt-4" value="PREPORUÄŒI" (click)='recommend()' *ngIf="user.type == 'kupac'">
            <input type="submit" class="btn btn-primary mt-4" value="AKTIVIRAJ PROMOCIJU" 
                    (click)='setPromotion(true)' *ngIf="user.type == 'prodavac' && book.promotion == false">
            <input type="submit" class="btn btn-primary mt-4" value="UKINI PROMOCIJU" 
                    (click)='setPromotion(false)' *ngIf="user.type == 'prodavac' && book.promotion == true">
        </div>        
        <div class="col-sm-6 book-details">
            <span class="book-title">{{ book.title }}</span>
            <div class="my-3">Autor: <span class="details">{{ book.author }}</span></div>
            <div class="my-3">Broj strana: <span class="details">{{ book.pages }}</span></div>
            <div class="my-3">Godina izdanja: <span class="details">{{ book.year }}</span></div>
            <div class="my-3">Opis: <span class="details">{{ book.description }}</span></div>
        </div>
    </div>
    

</div>

<!--Comment section-->
<div class="container-fluid comment-section pt-5 pb-5">
    <div class="row">
        <div class="offset-sm-2 col-sm-4">
            <span style="font-size: large;">Ocena:</span>
            <div class="rating-group">
                <input disabled checked class="rating__input rating__input--none" name="rating3" id="rating3-none" value="0" type="radio">
                <label aria-label="1 star" class="rating__label" for="rating3-1"><i class="rating__icon rating__icon--star fas fa-star"></i></label>
                <input class="rating__input" name="rating3" id="rating3-1" value="1" type="radio" (click)="setRating(1)">
                <label aria-label="2 stars" class="rating__label" for="rating3-2"><i class="rating__icon rating__icon--star fas fa-star"></i></label>
                <input class="rating__input" name="rating3" id="rating3-2" value="2" type="radio" (click)="setRating(2)">
                <label aria-label="3 stars" class="rating__label" for="rating3-3"><i class="rating__icon rating__icon--star fas fa-star"></i></label>
                <input class="rating__input" name="rating3" id="rating3-3" value="3" type="radio" (click)="setRating(3)">
                <label aria-label="4 stars" class="rating__label" for="rating3-4"><i class="rating__icon rating__icon--star fas fa-star"></i></label>
                <input class="rating__input" name="rating3" id="rating3-4" value="4" type="radio" (click)="setRating(4)">
                <label aria-label="5 stars" class="rating__label" for="rating3-5"><i class="rating__icon rating__icon--star fas fa-star"></i></label>
                <input class="rating__input" name="rating3" id="rating3-5" value="5" type="radio" (click)="setRating(5)">
            </div>
            <span style="font-size: large;">{{ book.rating | number:'1.2-2' }}</span>
        </div>
    </div>

    <div class="row">
        <div class="offset-sm-2 col-sm-4">
            <div class="heading-sm my-1" style="font-size: large;">Komentari:</div>

            <div class="comment" *ngFor="let comment of book.comments">
                <img src="../../assets/user.jpg" class="avatar">
                <span class="name">{{ comment.name }}</span>
                <div class="comment-content">{{ comment.comment }}</div>
            </div>

        </div>

        <div class="col-sm-4 ml-5" *ngIf="user.type=='kupac'">
            <div class="heading-sm mt-3 mb-3" style="font-size: large;">Postavi komentar:</div>
            <form>
                <div class="form-group">
                    <textarea class="form-control" placeholder="Komentar..." rows="5" name="comment" [(ngModel)]="comment"></textarea>
                </div>
                <input type="submit" class="btn btn-primary ml-4" value="POSTAVI" (click)='setComment()'>
            </form>
        </div>

    </div>
</div>